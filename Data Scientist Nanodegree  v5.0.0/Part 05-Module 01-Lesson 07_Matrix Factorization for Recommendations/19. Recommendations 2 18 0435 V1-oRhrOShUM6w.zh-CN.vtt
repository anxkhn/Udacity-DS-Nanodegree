WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:04.200
我们已经创建了一个

00:00:04.200 --> 00:00:08.365
能够针对任何用户-电影组合预测评分的函数

00:00:08.365 --> 00:00:11.580
我们应该检验下

00:00:11.580 --> 00:00:16.050
预测值与实际值之间的对比情况

00:00:16.050 --> 00:00:18.690
遗憾的是 到目前为止

00:00:18.690 --> 00:00:23.310
我们没有预测实际值供我们公平地判断效果

00:00:23.309 --> 00:00:28.424
因为我们没有拆分出训练集和测试集

00:00:28.425 --> 00:00:30.574
在此 notebook 中

00:00:30.574 --> 00:00:33.515
我们会将数据拆分为训练集和测试集

00:00:33.515 --> 00:00:37.005
然后看看模型对之前从未见过的

00:00:37.005 --> 00:00:41.935
测试评分的预测结果如何

00:00:41.935 --> 00:00:45.565
首先读取数据集

00:00:45.564 --> 00:00:47.564
读取数据集后

00:00:47.564 --> 00:00:50.030
我们将创建一个

00:00:50.030 --> 00:00:52.929
按照特定列对数据排序的小函数

00:00:52.929 --> 00:00:55.530
这里称之为 order_by 列

00:00:55.530 --> 00:00:59.060
然后按照传入的训练大小和测试大小

00:00:59.060 --> 00:01:02.315
将数据集拆分为训练集和测试集

00:01:02.314 --> 00:01:03.974
我将对传入的

00:01:03.975 --> 00:01:06.640
reviews 数据集

00:01:06.640 --> 00:01:09.349
进行排序

00:01:09.349 --> 00:01:13.049
并按照 order_by 列排序

00:01:13.049 --> 00:01:18.765
将这个存储到 reviews_new 中

00:01:18.765 --> 00:01:22.004
然后将 reviews_new 的第一部分

00:01:22.004 --> 00:01:24.349
当做训练集

00:01:24.349 --> 00:01:27.019
一个比较简单的创建方法是

00:01:27.019 --> 00:01:29.689
根据训练大小调用 head()

00:01:29.689 --> 00:01:32.969
然后创建验证数据集

00:01:32.969 --> 00:01:36.620
我将这个称为 df 因为下面是这么命名的

00:01:36.620 --> 00:01:42.965
验证集的创建方法是

00:01:42.965 --> 00:01:49.885
从以训练大小开始的行到训练加测试大小的行

00:01:49.885 --> 00:01:54.560
也就是从这个结束的位置开始

00:01:54.560 --> 00:01:57.445
一直到获得测试大小

00:01:57.444 --> 00:01:59.779
也可以换一种方式

00:01:59.780 --> 00:02:02.484
我们不用传入测试大小

00:02:02.484 --> 00:02:08.439
直接到传入的 reviews dataframe 的结束行

00:02:08.439 --> 00:02:10.750
这是另一种方式

00:02:10.750 --> 00:02:13.699
然后运行以下单元格来测试代码

00:02:13.699 --> 00:02:16.859
应该会运行这个函数 review_new

00:02:16.860 --> 00:02:18.545
我丢失了“s”

00:02:18.544 --> 00:02:23.509
应该是 reviews_new

00:02:23.509 --> 00:02:28.509
现在应该有训练集和测试集了

00:02:28.669 --> 00:02:33.019
训练集是 8,000 个评论

00:02:33.020 --> 00:02:35.049
测试集是 2,000 个评论

00:02:35.049 --> 00:02:37.980
这是列数

00:02:38.409 --> 00:02:42.359
不错 看来我们通过了所有测试

