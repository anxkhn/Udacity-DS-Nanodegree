WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.669
当我们对文本分词时

00:00:02.669 --> 00:00:10.109
我们经常使用单词的频率作为特征 更好的方法是使用 TFIDF

00:00:10.109 --> 00:00:12.209
TFIDF

00:00:12.210 --> 00:00:16.635
表示相关单词在文本中的重要程度

00:00:16.635 --> 00:00:20.250
Spark有计算这两者的内置方法

00:00:20.250 --> 00:00:24.225
我们可以使用 CountVectorizer 来获取单词计数

00:00:24.225 --> 00:00:27.510
我们可以设置我们想保留多少个单词

00:00:27.510 --> 00:00:31.874
在这里 我选择了1000的vocabSize

00:00:31.873 --> 00:00:35.714
表示我们将保留最常见的1000个单词

00:00:35.715 --> 00:00:39.660
Spark 将单词计数存储为稀疏向量

00:00:39.659 --> 00:00:45.044
例如 第一个记录 第一个

00:00:45.045 --> 00:00:47.295
是四倍

00:00:47.295 --> 00:00:49.740
第二个是六倍

00:00:49.740 --> 00:00:52.289
第三个是两倍 等等

00:00:52.289 --> 00:00:58.039
调用词汇表 我们可以看到在 cvmodel 中使用的单词列表

00:00:58.039 --> 00:01:01.729
你可以看到前几个单词

00:01:01.729 --> 00:01:05.780
在 CountVectorizer 方法里第一个是最常见的词

00:01:05.780 --> 00:01:07.019
这里就是这个 p

00:01:07.019 --> 00:01:12.819
如果你还记得 HTML用 P 标记段落

00:01:12.819 --> 00:01:16.674
这可能就是P为啥这么常见的原因了

00:01:16.674 --> 00:01:19.549
还有其他一些很常见的词

00:01:19.549 --> 00:01:22.679
例如 'the' 'a' 'code'

00:01:22.680 --> 00:01:25.394
似乎有很多比较的问题

00:01:25.394 --> 00:01:29.234
'is' 'and' 以及其他类似的词

00:01:29.234 --> 00:01:32.560
我们还可以看看最不常见的单词

00:01:32.560 --> 00:01:35.700
我们看到不太常见的词 如 customer

00:01:35.700 --> 00:01:39.049
Desktop  buttons 和其他一些单词

00:01:39.049 --> 00:01:41.465
接下来我们计算TFIDF

00:01:41.465 --> 00:01:46.329
我们可以在向量的开头看到单词的相对频率

00:01:46.329 --> 00:01:49.319
先是第0个 第一个

00:01:49.319 --> 00:01:53.179
这些是我们的数据集中最常见的单词

00:01:53.180 --> 00:01:59.440
TFIDF 有效地把停用词做了限制

00:01:59.439 --> 00:02:05.629
最后我们将包含字符串的 onetag 字段转换为数值型

00:02:05.629 --> 00:02:09.289
Onetag 字段对整个数据集中问题的标签进行计算

00:02:09.289 --> 00:02:14.275
选取最常见的那个标签

00:02:14.275 --> 00:02:18.164
例如 如果一个问题有 Java 和 load 这两个标签

00:02:18.164 --> 00:02:19.564
我们就选取 Java 作为标签

00:02:19.564 --> 00:02:22.025
因为它比 load 更常见

00:02:22.025 --> 00:02:24.715
在前面的例子中

00:02:24.715 --> 00:02:28.694
Tag 包括 PHP、image processing、 file upload

00:02:28.694 --> 00:02:33.120
以及upload mime-types

00:02:33.120 --> 00:02:39.115
Onetag 的值是PHP 因为这是这几个标签中最常见的

00:02:39.115 --> 00:02:41.250
我们可以使用 stringIndexer方法

00:02:41.250 --> 00:02:43.530
对数据做这个转换

00:02:43.530 --> 00:02:45.780
看看这个例子

00:02:45.780 --> 00:02:50.534
标签 PHP 转换为标签 3

00:02:50.534 --> 00:02:53.389
stringIndexer 会给出第0个索引和

00:02:53.389 --> 00:02:57.049
最常见的字符串然后按升序排列

00:02:57.050 --> 00:03:00.950
所以 PHP 是数据集中最常见的标记之一

00:03:00.949 --> 00:03:09.614
我们之所以把字符串值转换为数字值是因为

00:03:09.615 --> 00:03:13.860
与其他框架类似 Spark需要数值

00:03:13.860 --> 00:03:18.530
作为计算机器学习模型的特征和目标

